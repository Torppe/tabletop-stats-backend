(this["webpackJsonptabletop-stats"]=this["webpackJsonptabletop-stats"]||[]).push([[0],{123:function(e,t,a){e.exports=a(153)},152:function(e,t,a){e.exports=a.p+"static/media/face.db0de70d.png"},153:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(8),l=a.n(c),i=a(6),o=a.n(i),u=a(10),s=a(13),m=a(37),p=a(39),d=a(211),f=a(100),g=a(15),h=a(227),E=a(226),v=a(225),b=a(236),y=a(231),x=a(156),O=a(154),j=a(197),w=a(198),k=a(33),S=function(e){var t=e.icon,a=e.primary,n=e.to,c=e.handlePageTransition;return r.a.createElement("li",null,r.a.createElement(O.a,{button:!0,component:k.b,to:n,onClick:c},t?r.a.createElement(j.a,null,t):null,r.a.createElement(w.a,{primary:a})))},N=a(106),C=a.n(N),P=a(228),B=a(59),I=a(21),T=a.n(I),A=null,F={login:function(){var e=Object(u.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.a.post("/api/login",t);case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),setToken:function(e){A="bearer ".concat(e)},getToken:function(){return A}},M=function(){var e=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.a.get("/api/games");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),R=function(){var e=Object(u.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.a.get("".concat("/api/games","/").concat(t));case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),G={getAll:M,create:function(){var e=Object(u.a)(o.a.mark((function e(t){var a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{Authorization:F.getToken()}},e.next=3,T.a.post("/api/games",t,a);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getById:R},H=a(36),W=a(200),D=a(202),z=a(203),U=a(204),L=a(205),Z=a(233),J=a(206),q=a(207),V=a(208),K=a(99),Y=a.n(K),_=a(199),Q=a(157),X=Object(Q.a)((function(e){return{root:{position:"fixed",borderRadius:"0.5em",bottom:e.spacing(2),right:e.spacing(2)}}})),$=function(e){var t=X();return r.a.createElement(r.a.Fragment,null,r.a.createElement(_.a,{onClick:e.handleClick,className:t.root,color:"secondary","aria-label":"add"},r.a.createElement(Y.a,null)))},ee=Object(f.a)({item:{width:"11.5em"},cardContent:{bottom:0,position:"absolute",padding:"0.4em 0.8em 0 1em","&:last-child":{paddingBottom:"0.5em"}},card:{position:"relative",borderRadius:"10px",height:"10em"},input:{backgroundColor:"white"}}),te=function(e){var t=e.value,a=e.handleGameChange,c=e.handleAddGame,l=e.setIsModifying,i=Object(n.useState)(!1),o=Object(s.a)(i,2),u=o[0],m=o[1],p=ee(),d=function(){m(!1)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(W.a,{open:u,onClose:d,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(D.a,{id:"alert-dialog-title"},'Add a new game called "',t,'"?'),r.a.createElement(z.a,null,r.a.createElement(U.a,{onClick:d,color:"primary",variant:"outlined"},"Cancel"),r.a.createElement(U.a,{onClick:c,color:"primary",variant:"contained"},"Confirm"))),r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),m(!0)}},r.a.createElement(L.a,{variant:"outlined"},r.a.createElement(Z.a,{id:"new-game",placeholder:"Add game",variant:"outlined",color:"secondary",className:p.input,autoFocus:!0,value:t,onBlur:function(){u||l(!1)},onChange:a}))))},ae=function(e){var t=e.games,a=e.setGames,c=e.user;(0,e.setHeader)("Games");var l=ee(),i=Object(n.useState)(null),m=Object(s.a)(i,2),p=m[0],d=m[1],f=Object(n.useState)(!1),g=Object(s.a)(f,2),h=g[0],E=g[1],v=function(){var e=Object(u.a)(o.a.mark((function e(){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={title:p},e.prev=1,e.next=4,G.create(n);case 4:r=e.sent,a([].concat(Object(H.a)(t),[r])),E(!1),d(""),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.log("failed to create game",e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}(),b=function(){E(!h),d("")},y=function(e){d(e.target.value)};return r.a.createElement(r.a.Fragment,null,!h&&r.a.createElement(J.a,{container:!0,spacing:2,justify:"center"},t.map((function(e){return r.a.createElement(J.a,{key:e.id,item:!0,className:l.item},r.a.createElement(k.b,{to:"/game-stats/".concat(e.id)},r.a.createElement(q.a,{className:l.card},r.a.createElement(V.a,{className:l.cardContent},r.a.createElement(B.a,{align:"left",style:{fontSize:"1.2em"}},e.title)))))}))),c?r.a.createElement(r.a.Fragment,null,h&&r.a.createElement(te,{value:p,handleGameChange:y,handleAddGame:v,setIsModifying:E}),!h&&r.a.createElement($,{handleClick:b})):null)},ne=Object(f.a)({item:{width:"11.5em"},cardContent:{padding:"0.4em 0.8em 0 1em","&:last-child":{paddingBottom:"0.5em"}},card:{borderRadius:"10px"},title:{fontSize:"1.8em",lineHeight:"1.25em",paddingBottom:"0.3em"}}),re=function(e){var t=e.title,a=e.value,n=e.titleStyle,c=e.itemWidth,l=e.children,i=(e.hideValue,ne()),o={width:c||"11.5em"};return t&&a?r.a.createElement(J.a,{item:!0,style:o},r.a.createElement(q.a,{className:i.card},r.a.createElement(V.a,{className:i.cardContent},r.a.createElement(B.a,{className:i.title,color:"textSecondary",style:n},t),r.a.createElement(B.a,{align:"right",variant:"h4",component:"h2"},a),l))):null},ce=function(e){return+(e.reduce((function(e,t){return e+t}),0)/e.length).toFixed(2)},le=function(e){return e.length>0?e.reduce((function(e,t){return t.points>e.points?t:e})):null},ie=function(e){if(e){var t=new Map;e.map((function(e){return e.winner})).forEach((function(e){var a=t.get(e.player.name);a?t.set(e.player.name,a+1):t.set(e.player.name,1)}));var a=Object(H.a)(t.entries()).reduce((function(e,t){return t[1]>e[1]?t:e}),[0,0]);return{name:a[0],wins:a[1]}}},oe=function(e,t){return!e||e.length<2?null:e.map((function(e){return e.players})).flat().filter((function(e){return e.player.id===t})).map((function(e,t){return{match:t+1,points:e.points}}))},ue=function(e,t){for(var a=e.map((function(e){return e.players})),n=0,r=0;r<a.length;r++)a[r].reduce((function(e,t){return t.points>e.points?t:e})).player.id===t&&n++;return n},se=function(e,t){return+(t/e.length*100).toFixed(1)},me=function(e){var t=e.matches,a=t.map((function(e){return e.players})).flat(),n=a.map((function(e){return e.points})),c=ce(n),l=ie(t),i=le(a);return r.a.createElement(r.a.Fragment,null,r.a.createElement(B.a,{component:"h2",variant:"h4",align:"center",style:{marginBottom:"1em"}},"Overall stats"),r.a.createElement(J.a,{container:!0,spacing:2,justify:"center"},t.length<1&&r.a.createElement("em",null,"no matches"),r.a.createElement(re,{title:"Games played",value:t.length}),r.a.createElement(re,{title:"Average points",value:c}),i&&r.a.createElement(re,{title:"Most points",value:i.points},r.a.createElement(B.a,{color:"textSecondary",variant:"body1",component:"p",align:"right"},i.player.name)),l&&r.a.createElement(re,{title:"Most wins",value:l.wins},r.a.createElement(B.a,{color:"textSecondary",variant:"body1",component:"p",align:"right"},l.name))))},pe=function(){var e=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.a.get("/api/matches");case 2:return t=e.sent,e.abrupt("return",t.data.filter((function(e){return e.game})));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),de=function(){var e=Object(u.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.a.get("".concat("/api/matches","/game/").concat(t));case 2:return a=e.sent,e.abrupt("return",a.data.filter((function(e){return e.game})));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),fe=function(){var e=Object(u.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.a.get("".concat("/api/matches","/player/").concat(t));case 2:return a=e.sent,e.abrupt("return",a.data.filter((function(e){return e.game})));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ge={getAll:pe,create:function(){var e=Object(u.a)(o.a.mark((function e(t){var a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{Authorization:F.getToken()}},e.next=3,T.a.post("/api/matches",t,a);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getByGame:de,getByPlayer:fe},he=a(214),Ee=a(82),ve=a(57),be=a(234),ye=a(230),xe=a(212),Oe=a(235),je=a(213),we=function(e){var t=e.selectedPlayers,a=e.player,n=e.players,c=e.removePlayer,l=e.updatePlayer,i=t.map((function(e){return e.name}));return r.a.createElement(J.a,{container:!0,spacing:1,justify:"center"},r.a.createElement(J.a,{item:!0,md:6,xs:5},r.a.createElement(L.a,{fullWidth:!0,variant:"outlined",required:!0},r.a.createElement(be.a,{id:"player-label"},"Player"),r.a.createElement(ye.a,{labelId:"player-label",id:"player",value:a.name,onChange:function(e){return function(e){var t=Object(ve.a)(Object(ve.a)({},a),{},{name:e});l(t)}(e.target.value)}},n.map((function(e){return r.a.createElement(xe.a,{key:e.name,disabled:i.includes(e.name),value:e.name},e.name)}))))),r.a.createElement(J.a,{item:!0,md:5,xs:5},r.a.createElement(Oe.a,{fullWidth:!0,required:!0,id:"points",label:"Points",type:"number",defaultValue:a.points,onChange:function(e){return function(e){var t=Object(ve.a)(Object(ve.a)({},a),{},{points:Number(e)});l(t)}(e.target.value)},variant:"outlined"})),r.a.createElement(J.a,{item:!0,xs:1},r.a.createElement(x.a,{"aira-label":"delete",onClick:function(){return c(a)}},r.a.createElement(je.a,null))))},ke={getAll:function(){var e=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.a.get("/api/players");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getById:function(){var e=Object(u.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.a.get("".concat("/api/players","/").concat(t));case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Se=a(101),Ne=a.n(Se),Ce=a(215),Pe=Object(f.a)({cancelButton:{float:"right",marginTop:"-30px",marginRight:"-30px",marginBottom:"15px"}}),Be=function(e){var t=e.handleSubmit,a=e.handleCloseForm,c=Object(n.useState)([]),l=Object(s.a)(c,2),i=l[0],m=l[1],p=Object(n.useState)([]),d=Object(s.a)(p,2),f=d[0],g=d[1],h=Object(n.useState)(!1),E=Object(s.a)(h,2),v=E[0],b=E[1],y=Pe(),O={marginTop:f.length>0?"2em":null};Object(n.useEffect)((function(){(function(){var e=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ke.getAll();case 3:t=e.sent,m(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("failed to fetch player data",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}})()()}),[]);var j=function(e){var t=f.map((function(t){return t.id!==e.id?t:e}));g(t)},w=function(e){var t=f.filter((function(t){return t.id!==e.id}));g(t)},k=function(){b(!1)};return r.a.createElement("div",null,r.a.createElement(W.a,{open:v,onClose:k,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(D.a,{id:"alert-dialog-title"},"Add a new match?"),r.a.createElement(z.a,null,r.a.createElement(U.a,{onClick:k,color:"primary",variant:"outlined"},"Cancel"),r.a.createElement(U.a,{onClick:function(){var e=f.filter((function(e){return e.name}));if(!(e.length<1)){var a=e.map((function(e){var t=i.find((function(t){return t.name===e.name}));return t?{player:t.id,points:e.points}:null}));t(a)}},color:"primary",variant:"contained"},"Confirm"))),r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),b(!0)}},r.a.createElement(he.a,{maxWidth:"sm",disableGutters:!0},r.a.createElement(Ee.a,{style:{padding:"2em"}},r.a.createElement(x.a,{onClick:a,"aira-label":"cancel",className:y.cancelButton},r.a.createElement(Ce.a,null)),f.map((function(e){return r.a.createElement(we,{key:e.id,player:e,players:i,selectedPlayers:f,removePlayer:w,updatePlayer:j})})),r.a.createElement(he.a,{disableGutters:!0},r.a.createElement(J.a,{container:!0,justify:"space-between",style:O},r.a.createElement(J.a,{item:!0},r.a.createElement(U.a,{variant:"outlined",color:"primary",onClick:function(){var e={id:Ne()(),name:"",points:null};g([].concat(Object(H.a)(f),[e]))}},"Add player")),r.a.createElement(J.a,{item:!0},r.a.createElement(U.a,{variant:"contained",color:"primary",type:"submit"},"Submit"))))))))},Ie=a(216),Te=a(217),Ae=a(218),Fe=a(219),Me=a(220),Re=a(221),Ge=a(232),He=a(222),We=a(223),De=a(104),ze=a.n(De);function Ue(){return(Ue=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Le(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},c=Object.keys(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var Ze=r.a.createElement("g",null,r.a.createElement("path",{d:"M861,863.05c0-30.4-24.6-55-55-55H175.9c-30.4,0-55,24.6-55,55s24.6,55,55,55H806C836.4,918.05,861,893.35,861,863.05z"}),r.a.createElement("path",{d:"M65.4,417.85c0.9,0,1.7,0,2.6-0.1l87.2,315.6H491h335.7l87.2-315.6c0.899,0,1.699,0.1,2.6,0.1c36.1,0,65.4-29.3,65.4-65.4 s-29.301-65.4-65.4-65.4s-65.4,29.3-65.4,65.4c0,7,1.101,13.8,3.2,20.1l-157.7,92.2l-169.5-281 c17.601-11.7,29.301-31.8,29.301-54.5c0-36.1-29.301-65.4-65.4-65.4s-65.4,29.3-65.4,65.4c0,22.8,11.601,42.8,29.301,54.5 l-169.5,281l-157.7-92.2c2-6.3,3.2-13.1,3.2-20.1c0-36.1-29.3-65.4-65.4-65.4c-36.2,0-65.5,29.3-65.5,65.4S29.3,417.85,65.4,417.85 z"})),Je=r.a.createElement("g",null),qe=r.a.createElement("g",null),Ve=r.a.createElement("g",null),Ke=r.a.createElement("g",null),Ye=r.a.createElement("g",null),_e=r.a.createElement("g",null),Qe=r.a.createElement("g",null),Xe=r.a.createElement("g",null),$e=r.a.createElement("g",null),et=r.a.createElement("g",null),tt=r.a.createElement("g",null),at=r.a.createElement("g",null),nt=r.a.createElement("g",null),rt=r.a.createElement("g",null),ct=r.a.createElement("g",null),lt=function(e){var t=e.svgRef,a=e.title,n=Le(e,["svgRef","title"]);return r.a.createElement("svg",Ue({id:"Capa_1",x:"0px",y:"0px",width:"981.9px",height:"981.901px",viewBox:"0 0 981.9 981.901",style:{enableBackground:"new 0 0 981.9 981.901"},xmlSpace:"preserve",ref:t},n),a?r.a.createElement("title",null,a):null,Ze,Je,qe,Ve,Ke,Ye,_e,Qe,Xe,$e,et,tt,at,nt,rt,ct)},it=r.a.forwardRef((function(e,t){return r.a.createElement(lt,Ue({svgRef:t},e))})),ot=(a.p,Object(f.a)({header:{fontWeight:700,paddingTop:0},paddingSides:{paddingLeft:"24px",paddingRight:"24px"},details:{padding:0},historyHeader:{padding:"1em 0"}})),ut=function(e){var t=e.matches,a=ot();return r.a.createElement(r.a.Fragment,null,r.a.createElement(B.a,{component:"h2",variant:"h4",align:"center",className:a.historyHeader},"Recent Matches"),r.a.createElement(he.a,{disableGutters:!0,style:{maxWidth:"620px"},align:"center"},t.length<1&&r.a.createElement("em",null,"no matches"),t.sort((function(e,t){return new Date(t.date)-new Date(e.date)})).slice(0,5).map((function(e){return r.a.createElement(Ge.a,{key:e.id},r.a.createElement(He.a,{expandIcon:r.a.createElement(ze.a,null)},r.a.createElement(B.a,null,function(e){if(!e)return null;var t=new Date(e);return"".concat(t.getDate(),".").concat(t.getMonth()+1,".").concat(t.getFullYear())}(e.date)),r.a.createElement(it,{style:{width:"3em",height:"1.5em"}}),r.a.createElement(B.a,null,e.winner.player.name)),r.a.createElement(We.a,{className:a.details},(t=e.players,r.a.createElement(Ie.a,null,r.a.createElement(Te.a,{"aria-label":"match results"},r.a.createElement(Ae.a,null,r.a.createElement(Fe.a,null,r.a.createElement(Me.a,{className:"".concat(a.header," ").concat(a.paddingSides)},"Player"),r.a.createElement(Me.a,{className:"".concat(a.header," ").concat(a.paddingSides),align:"right"},"Points"))),r.a.createElement(Re.a,null,t.map((function(e){return r.a.createElement(Fe.a,{key:e.player.id},r.a.createElement(Me.a,{className:a.paddingSides,component:"th",scope:"row"},e.player.name),r.a.createElement(Me.a,{className:a.paddingSides,align:"right"},e.points))}))))))));var t}))))},st=function(e){var t=e.gameId,a=e.setHeader,c=e.user,l=Object(n.useState)([]),i=Object(s.a)(l,2),m=i[0],p=i[1],d=Object(n.useState)(!1),f=Object(s.a)(d,2),g=f[0],h=f[1];Object(n.useEffect)((function(){var e=function(){var e=Object(u.a)(o.a.mark((function e(){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ge.getByGame(t);case 3:a=e.sent,p(a),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("failed to get match data",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),n=function(){var e=Object(u.a)(o.a.mark((function e(){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,G.getById(t);case 3:n=e.sent,a(n.title),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("failed to fetch header",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();e(),n()}),[t,a]);var E=function(){var e=Object(u.a)(o.a.mark((function e(a){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={game:t,players:a},e.prev=1,e.next=4,ge.create(n);case 4:r=e.sent,p([].concat(Object(H.a)(m),[r])),h(!1),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log("failed to create a new match",e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,!g&&r.a.createElement(me,{matches:m}),!g&&r.a.createElement(ut,{matches:m}),c?r.a.createElement(r.a.Fragment,null,g?r.a.createElement(Be,{handleSubmit:E,handleCloseForm:function(){return h(!1)}}):r.a.createElement($,{handleClick:function(){return h(!0)}})):null)};function mt(){return(mt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function pt(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},c=Object.keys(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var dt=r.a.createElement("g",null,r.a.createElement("path",{d:"M107.256,109.623c-1.697,0 -3.073,-1.489 -3.073,-3.326c0,-1.25 0,-2.785 0,-4.489c0,-10.152 2.765,-20.08 7.948,-28.542c0.996,-1.629 1.576,-3.581 1.576,-5.678c0,-1.795 -0.424,-3.483 -1.175,-4.951c-0.772,-1.532 -1.176,-3.248 -1.176,-4.993l0,-0.362c0,-5.688 4.268,-10.306 9.525,-10.306l0.061,0c5.229,0.036 9.464,4.64 9.464,10.306l0,0.362c0,1.745 -0.405,3.461 -1.176,4.993c-0.751,1.468 -1.176,3.156 -1.176,4.951c0,2.097 0.58,4.049 1.577,5.678c5.183,8.462 7.947,18.39 7.947,28.542c0.001,1.704 0.001,3.239 0.001,4.489c0,1.837 -1.376,3.326 -3.074,3.326l-13.624,0l-13.625,0Z"}),r.a.createElement("path",{d:"M54.273,109.623c-2.189,0 -3.963,-1.92 -3.963,-4.288c0,-1.611 0,-3.59 0.001,-5.786c0,-13.089 3.564,-25.887 10.246,-36.797c1.284,-2.099 2.033,-4.616 2.033,-7.32c0,-2.313 -0.548,-4.489 -1.516,-6.382c-0.995,-1.974 -1.516,-4.187 -1.516,-6.436l0,-0.468c0,-7.332 5.502,-13.285 12.279,-13.285l0.079,0c6.741,0.046 12.2,5.981 12.2,13.285l0,0.468c0,2.249 -0.521,4.462 -1.516,6.436c-0.968,1.893 -1.515,4.069 -1.515,6.382c0,2.704 0.748,5.221 2.032,7.32c6.682,10.91 10.246,23.708 10.246,36.797c0.001,2.196 0.001,4.175 0.001,5.786c0,2.368 -1.774,4.288 -3.963,4.288l-17.564,0l-17.564,0Z"}),r.a.createElement("path",{d:"M15.327,109.623c-1.353,0 -2.45,-1.187 -2.45,-2.651c0,-0.996 0,-2.219 0.001,-3.577c0,-8.09 2.203,-16.002 6.334,-22.746c0.794,-1.298 1.256,-2.853 1.256,-4.525c0,-1.43 -0.339,-2.775 -0.937,-3.945c-0.615,-1.221 -0.937,-2.589 -0.937,-3.979l0,-0.289c0,-4.533 3.401,-8.213 7.591,-8.213l0.049,0.001c4.166,0.028 7.541,3.697 7.541,8.212l0,0.289c0,1.39 -0.322,2.758 -0.937,3.979c-0.598,1.17 -0.937,2.515 -0.937,3.945c0,1.672 0.463,3.227 1.256,4.525c4.131,6.744 6.334,14.656 6.334,22.746c0.001,1.358 0.001,2.581 0.001,3.577c0,1.464 -1.097,2.651 -2.45,2.651l-10.857,0l-10.858,0Z"}),r.a.createElement("g",{id:"Layer1"},r.a.createElement("path",{d:"M128.458,14.756c0,0 -16.339,7.466 -19.73,9.015c-0.392,0.18 -0.839,0.2 -1.246,0.057c-4.498,-1.583 -31.546,-11.101 -36.667,-12.903c-0.523,-0.184 -1.104,-0.096 -1.548,0.235c-6.942,5.164 -62.337,46.371 -62.337,46.371l-6.136,-6.8c0,0 59.785,-44.583 67.054,-50.003c0.449,-0.336 1.038,-0.422 1.565,-0.231c5.205,1.893 32.84,11.94 37.395,13.596c0.407,0.149 0.857,0.132 1.252,-0.046c3.105,-1.395 16.869,-7.582 16.869,-7.582c0,0 -0.328,-0.772 -0.706,-1.659c-0.231,-0.542 -0.156,-1.165 0.197,-1.636c0.353,-0.472 0.93,-0.719 1.515,-0.651c2.367,0.279 5.361,0.631 5.361,0.631c0,0 3.509,0.549 6.048,0.946c0.561,0.087 1.038,0.454 1.267,0.974c0.23,0.519 0.179,1.119 -0.135,1.593c-1.497,2.26 -3.628,5.478 -3.628,5.478c0,0 -1.513,2.381 -2.749,4.325c-0.32,0.504 -0.886,0.796 -1.482,0.763c-0.596,-0.032 -1.128,-0.383 -1.392,-0.918c-0.414,-0.839 -0.767,-1.555 -0.767,-1.555Z"})),r.a.createElement("path",{d:"M0.236,1.856c0,-0.442 0.176,-0.866 0.489,-1.179c0.312,-0.312 0.736,-0.488 1.178,-0.488c1.535,0 3.799,0 5.333,0c0.442,0 0.866,0.176 1.179,0.488c0.312,0.313 0.488,0.737 0.488,1.179c0,14.029 0,111.884 0,111.884l129.343,0c0.92,0 1.666,0.747 1.666,1.667c0,1.534 0,3.799 0,5.333c0,0.921 -0.746,1.667 -1.666,1.667l-3.404,0l-125.939,0l-7,0c-0.442,0 -0.866,-0.176 -1.178,-0.488c-0.313,-0.313 -0.489,-0.737 -0.489,-1.179c0,-13.539 0,-105.345 0,-118.884Z"})),ft=function(e){var t=e.svgRef,a=e.title,n=pt(e,["svgRef","title"]);return r.a.createElement("svg",mt({width:"100%",height:"100%",viewBox:"0 0 140 123",xmlSpace:"preserve",xmlnsserif:"http://www.serif.com/",style:{fillRule:"evenodd",clipRule:"evenodd",strokeLinejoin:"round",strokeMiterlimit:2},ref:t},n),a?r.a.createElement("title",null,a):null,dt)},gt=r.a.forwardRef((function(e,t){return r.a.createElement(ft,mt({svgRef:t},e))})),ht=(a.p,Object(f.a)((function(e){return{heading:{marginTop:"65px",marginBottom:"65px"},button:{width:"150px",borderRadius:"40px",padding:"15px 30px",marginTop:"1em"},input:{backgroundColor:"white",borderRadius:"40px",textAlign:"center"},logo:{width:"8em"},container:Object(m.a)({},e.breakpoints.down("xs"),{position:"fixed",bottom:"50px",right:0})}}))),Et=function(e){var t=e.setUser,a=e.user;(0,e.setHeader)("Login");var c=Object(n.useState)(""),l=Object(s.a)(c,2),i=l[0],m=l[1],p=Object(n.useState)(""),d=Object(s.a)(p,2),f=d[0],h=d[1],E=ht(),v=Object(g.a)(),b=function(){var e=Object(u.a)(o.a.mark((function e(a){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.prev=1,e.next=4,F.login({username:i,password:f});case 4:n=e.sent,window.localStorage.setItem("loggedTabletopAppUser",JSON.stringify(n)),F.setToken(n.token),t(n),m(""),h(""),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),console.log("failed to login",e.t0);case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:null===a?b:function(e){e.preventDefault(),window.localStorage.removeItem("loggedTabletopAppUser"),t(null)}},r.a.createElement(J.a,{container:!0,spacing:2,justify:"center",alignItems:"center",direction:"column",className:E.container},r.a.createElement(J.a,{item:!0,className:E.logo},r.a.createElement(gt,{fill:v.palette.text.primary})),r.a.createElement(J.a,{item:!0,className:E.heading},r.a.createElement(B.a,{component:"h2",variant:"h4",color:"textPrimary",gutterBottom:!0},"Keep track of"),r.a.createElement(B.a,{component:"h2",variant:"h4",color:"textPrimary"},"Tabletop stats")),null===a?r.a.createElement(r.a.Fragment,null,r.a.createElement(J.a,{item:!0},r.a.createElement(L.a,{variant:"outlined"},r.a.createElement(Z.a,{id:"username",value:i,color:"secondary",placeholder:"username",className:E.input,inputProps:{style:{textAlign:"center"}},onChange:function(e){var t=e.target;return m(t.value)}}))),r.a.createElement(J.a,{item:!0},r.a.createElement(L.a,{variant:"outlined"},r.a.createElement(Z.a,{id:"password",value:f,type:"password",placeholder:"password",color:"secondary",className:E.input,inputProps:{style:{textAlign:"center"}},onChange:function(e){var t=e.target;return h(t.value)}}))),r.a.createElement(J.a,{item:!0},r.a.createElement(U.a,{type:"submit",variant:"contained",color:"secondary",className:E.button},"login"))):r.a.createElement(U.a,{variant:"contained",color:"secondary",type:"submit",className:E.button},"logout"))))},vt=a(224),bt=Object(f.a)({item:{width:"11.5em"},cardContent:{bottom:0,position:"absolute",padding:"0.4em 0.8em 0 1em","&:last-child":{paddingBottom:"0.5em"}},card:{position:"relative",borderRadius:"10px",height:"10em"},input:{backgroundColor:"white"},mediaParent:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},media:{height:"140px",width:"140px",opacity:.025}}),yt=function(e){(0,e.setHeader)("Players");var t=Object(n.useState)([]),c=Object(s.a)(t,2),l=c[0],i=c[1],m=bt();return Object(n.useEffect)((function(){var e=function(){var e=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ke.getAll();case 2:t=e.sent,i(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();try{e()}catch(t){console.log("failed to fetch player data")}}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(J.a,{container:!0,spacing:2,justify:"center"},l.map((function(e){return r.a.createElement(J.a,{key:e.id,item:!0,className:m.item},r.a.createElement(k.b,{to:"/player-stats/".concat(e.id)},r.a.createElement(q.a,{className:m.card},r.a.createElement("div",{className:m.mediaParent},r.a.createElement(vt.a,{className:m.media,image:a(152),title:"background image"})),r.a.createElement(V.a,{className:m.cardContent},r.a.createElement(B.a,{align:"left",style:{fontSize:"1.2em"}},e.name)))))}))))},xt=a(43),Ot=function(e){var t=e.matches,a=e.playerId;if(!t||t.length<1)return null;var n=ue(t,a),c=se(t,n);return r.a.createElement(r.a.Fragment,null,r.a.createElement(J.a,{container:!0,spacing:2,justify:"center",style:{marginBottom:"0.35em"}},r.a.createElement(re,{title:"Matches",value:t.length}),r.a.createElement(re,{title:"Wins",value:n}),r.a.createElement(re,{title:"Win %",value:c&&"".concat(c," %")})))},jt=Object(f.a)({item:{width:"24em"},cardContent:{padding:"0.4em 0.8em 0 1em","&:last-child":{paddingBottom:"0.5em"}},card:{borderRadius:"10px"},title:{fontSize:"1.8em",lineHeight:"1.25em",paddingBottom:"0.3em"}}),wt=function(e){var t=e.title,a=e.children,n=jt();return r.a.createElement(J.a,{item:!0,className:n.item},r.a.createElement(q.a,{className:n.card},r.a.createElement(V.a,{className:n.cardContent},r.a.createElement(B.a,{className:n.title,color:"textSecondary"},t),a)))},kt=a(74),St=function(e){var t=e.matches,a=e.playerId,n=oe(t,a);return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ot,{matches:t,playerId:a}),n&&r.a.createElement(wt,{title:"Performance"},r.a.createElement(kt.a,{data:n,height:150},r.a.createElement(kt.c,null),r.a.createElement(kt.b,{valueField:"points",argumentField:"match"}))))},Nt=function(e){var t,a=[],n=new Set,r=Object(xt.a)(e);try{for(r.s();!(t=r.n()).done;){var c=t.value;n.has(c.game.id)||(n.add(c.game.id),a.push({id:c.game.id,title:c.game.title}))}}catch(l){r.e(l)}finally{r.f()}return a},Ct=Object(f.a)((function(e){return{container:{maxWidth:"470px"},bottomMargin:{marginBottom:"1em"},gameStats:{marginBottom:"0.35em",marginTop:"1em"}}})),Pt=function(e){var t=e.playerId,a=e.setHeader,c=Object(n.useState)([]),l=Object(s.a)(c,2),i=l[0],m=l[1],p=Object(n.useState)([]),d=Object(s.a)(p,2),f=d[0],g=d[1],h=Object(n.useState)(""),E=Object(s.a)(h,2),v=E[0],b=E[1],y=Ct();Object(n.useEffect)((function(){var e=function(){var e=Object(u.a)(o.a.mark((function e(){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ge.getByPlayer(t);case 2:a=e.sent,m(a),g(Nt(a));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),n=function(){var e=Object(u.a)(o.a.mark((function e(){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ke.getById(t);case 2:n=e.sent,a(n.name);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();try{e(),n()}catch(r){console.log("failed to fetch match or player data",r)}}),[t,a]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(he.a,{disableGutters:!0,className:y.container},r.a.createElement(B.a,{component:"h2",variant:"h4",align:"center",className:y.bottomMargin},"Overall stats"),r.a.createElement(Ot,{matches:i,playerId:t}),r.a.createElement(B.a,{component:"h2",variant:"h4",align:"center",className:y.gameStats},"Game stats"),r.a.createElement(L.a,{variant:"outlined",fullWidth:!0,className:y.bottomMargin},r.a.createElement(be.a,{id:"game-label"},"Game"),r.a.createElement(ye.a,{labelId:"game-label",id:"game-select-menu",value:v,onChange:function(e){var t=e.target;b(t.value)}},r.a.createElement(xe.a,{value:""},r.a.createElement("em",null,"None")),f.map((function(e){return r.a.createElement(xe.a,{key:e.id,value:e.id},e.title)})))),v&&r.a.createElement(St,{matches:i.filter((function(e){return e.game.id===v})),playerId:t})))},Bt=Object(f.a)((function(e){return{root:{display:"flex"},drawer:Object(m.a)({},e.breakpoints.up("sm"),{width:240,flexShrink:0}),appBar:Object(m.a)({},e.breakpoints.up("sm"),{width:"calc(100% - ".concat(240,"px)"),marginLeft:240}),menuButton:Object(m.a)({marginRight:e.spacing(2)},e.breakpoints.up("sm"),{display:"none"}),toolbar:e.mixins.toolbar,drawerPaper:{width:240},content:{flexGrow:1,padding:e.spacing(3)}}})),It=function(e){var t=Bt(),a=Object(g.a)(),c=Object(n.useState)(!1),l=Object(s.a)(c,2),i=l[0],m=l[1],f=Object(n.useState)(""),O=Object(s.a)(f,2),j=O[0],w=O[1],k=Object(n.useState)([]),N=Object(s.a)(k,2),I=N[0],T=N[1],A=Object(n.useState)(null),M=Object(s.a)(A,2),R=M[0],H=M[1];Object(n.useEffect)((function(){var e=window.localStorage.getItem("loggedTabletopAppUser");if(e){var t=JSON.parse(e);t&&(H(t),F.setToken(t.token))}var a=function(){var e=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G.getAll();case 2:t=e.sent,T(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();try{a()}catch(n){console.log("failed to fetch game data")}}),[]);var W=function(){m(!i)},D=function(){i&&m(!1)},z=r.a.createElement("div",null,r.a.createElement("div",{className:t.toolbar},r.a.createElement(d.a,null,r.a.createElement("div",{style:{textAlign:"center",marginTop:"1em"}},"Tabletop stats v1.0 "))),r.a.createElement(v.a,null),r.a.createElement(d.a,{disablePadding:!0},r.a.createElement(S,{key:"Home",to:"/",primary:"Home",handlePageTransition:function(){return D()}}),r.a.createElement(S,{key:"Games",to:"/game-stats",primary:"Games",handlePageTransition:function(){return D()}}),r.a.createElement(S,{key:"Players",to:"/player-stats",primary:"Players",handlePageTransition:function(){return D()}})));return r.a.createElement("div",{className:t.root},r.a.createElement(E.a,null),r.a.createElement(h.a,{style:{backgroundColor:"#f09c42"},position:"fixed",className:t.appBar},r.a.createElement(P.a,null,r.a.createElement(x.a,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:W,className:t.menuButton},r.a.createElement(C.a,null)),r.a.createElement(B.a,{color:"textPrimary",variant:"h6",noWrap:!0},j))),r.a.createElement("div",{className:t.drawer},r.a.createElement(y.a,{smUp:!0,implementation:"css"},r.a.createElement(b.a,{variant:"temporary",anchor:"rtl"===a.direction?"right":"left",open:i,onClose:W,classes:{paper:t.drawerPaper},ModalProps:{keepMounted:!0}},z)),r.a.createElement(y.a,{xsDown:!0,implementation:"css"},r.a.createElement(b.a,{classes:{paper:t.drawerPaper},variant:"permanent",open:!0},z))),r.a.createElement("div",{className:t.content},r.a.createElement("div",{className:t.toolbar}),r.a.createElement(p.a,{exact:!0,path:"/",render:function(){return r.a.createElement(Et,{setUser:H,user:R,setHeader:w})}}),r.a.createElement(p.a,{exact:!0,path:"/game-stats",render:function(){return r.a.createElement(ae,{games:I,setGames:T,user:R,setHeader:w})}}),r.a.createElement(p.a,{exact:!0,path:"/game-stats/:game",render:function(e){var t=e.match;return r.a.createElement(st,{gameId:t.params.game,setHeader:w,user:R})}}),r.a.createElement(p.a,{exact:!0,path:"/player-stats",render:function(){return r.a.createElement(yt,{setHeader:w})}}),r.a.createElement(p.a,{exact:!0,path:"/player-stats/:player",render:function(e){var t=e.match;return r.a.createElement(Pt,{playerId:t.params.player,setHeader:w,user:R})}})))},Tt=function(){return r.a.createElement("div",{style:{marginBottom:"4.5em"}},r.a.createElement(k.a,null,r.a.createElement(It,null)))},At=a(229),Ft=a(107),Mt=Object(Ft.a)({palette:{primary:{main:"#d88833",contrastText:"#6E4B20"},secondary:{main:"#ffd59a",contrastText:"#6E4B20"},text:{primary:"#663E11",secondary:"#9B8D75"},background:{default:"#d88833"}},typography:{fontFamily:["Arvo","serif"].join(",")}});l.a.render(r.a.createElement(At.a,{theme:Mt},r.a.createElement(Tt,null)),document.getElementById("root"))}},[[123,1,2]]]);
//# sourceMappingURL=main.c832e927.chunk.js.map