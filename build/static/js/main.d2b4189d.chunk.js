(this["webpackJsonptabletop-stats"]=this["webpackJsonptabletop-stats"]||[]).push([[0],{136:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(9),c=t.n(l),o=t(20),i=t(32),m=t(7),u=t(31),s=t(184),p=t(81),d=t(11),f=t(194),E=t(193),b=t(192),g=t(200),h=t(199),y=t(189),v=t(137),j=t(178),O=t(179),x=t(46),k=function(e){var a=e.icon,t=e.primary,n=e.to;return r.a.createElement("li",null,r.a.createElement(v.a,{button:!0,component:x.b,to:n},a?r.a.createElement(j.a,null,a):null,r.a.createElement(O.a,{primary:t})))},S=t(82),w=t.n(S),C=t(195),P=t(53),B=t(13),A=t(201),G=t(80),N=t.n(G),F=t(180),H=t(138),I=Object(H.a)((function(e){return{root:{position:"fixed",borderRadius:"0.5em",bottom:e.spacing(2),right:e.spacing(2)}}})),J=function(e){var a=I();return r.a.createElement(r.a.Fragment,null,r.a.createElement(F.a,{onClick:e.handleClick,className:a.root,color:"primary","aria-label":"add"},r.a.createElement(N.a,null)))},M=t(28),D=t.n(M),W=function(){return D.a.get("/api/games")},T=function(e){return D.a.post("/api/games",e)},q=function(e){return D.a.get("".concat("/api/games","/").concat(e))},R=function(e){var a=e.value,t=e.handleGameChange,n=e.addGame;return r.a.createElement("form",{onSubmit:n},r.a.createElement(A.a,{id:"new-game",label:"Add game",variant:"outlined",autoFocus:!0,value:a,onChange:t}))},L=function(e){(0,e.setHeader)("Games");var a=Object(n.useState)([]),t=Object(o.a)(a,2),l=t[0],c=t[1],i=Object(n.useState)(null),m=Object(o.a)(i,2),u=m[0],p=m[1],d=Object(n.useState)(!1),f=Object(o.a)(d,2),E=f[0],b=f[1];Object(n.useEffect)((function(){W().then((function(e){c(e.data)})).catch((function(e){console.log("failed to get game data")}))}),[]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(s.a,null,l.map((function(e){return r.a.createElement(k,{key:e.id,primary:e.title,to:"/game-stats/".concat(e.id)})}))),E&&r.a.createElement(R,{value:u,handleGameChange:function(e){p(e.target.value)},addGame:function(e){e.preventDefault(),T({title:u}).then((function(e){c([].concat(Object(B.a)(l),[e.data])),b(!1),p("")})).catch((function(e){console.log("failed to create game")}))}}),r.a.createElement(J,{handleClick:function(){b(!E),p("")}}))},U=(t(122),t(185)),V=t(186),z=t(187),K=function(e){var a=e.matches.map((function(e){return e.players})).flat(),t=a.map((function(e){return e.points})),n=+(t.reduce((function(e,a){return e+a}),0)/t.length).toFixed(2);n=n||0;a.reduce((function(e,a){return Object(i.a)({},e,Object(m.a)({},a.player,void 0===e[a.player]?a.points:e[a.player]+a.points))}),{});return r.a.createElement(r.a.Fragment,null,r.a.createElement(U.a,{container:!0,spacing:2,justify:"center"},r.a.createElement(U.a,{item:!0},r.a.createElement(V.a,null,r.a.createElement(z.a,null,r.a.createElement(P.a,{color:"textSecondary",gutterBottom:!0},"Average points"),r.a.createElement(P.a,{variant:"h5",component:"h2"},n)))),r.a.createElement(U.a,{item:!0},r.a.createElement(V.a,null,r.a.createElement(z.a,null,r.a.createElement(P.a,{color:"textSecondary",gutterBottom:!0},"Average points"),r.a.createElement(P.a,{variant:"h5",component:"h2"},n)))),r.a.createElement(U.a,{item:!0},r.a.createElement(V.a,null,r.a.createElement(z.a,null,r.a.createElement(P.a,{color:"textSecondary",gutterBottom:!0},"Average points"),r.a.createElement(P.a,{variant:"h5",component:"h2"},n)))),r.a.createElement(U.a,{item:!0},r.a.createElement(V.a,null,r.a.createElement(z.a,null,r.a.createElement(P.a,{color:"textSecondary",gutterBottom:!0},"Average points"),r.a.createElement(P.a,{variant:"h5",component:"h2"},n)))),r.a.createElement(U.a,{item:!0},r.a.createElement(V.a,null,r.a.createElement(z.a,null,r.a.createElement(P.a,{color:"textSecondary",gutterBottom:!0},"Average points"),r.a.createElement(P.a,{variant:"h5",component:"h2"},n)))),r.a.createElement(U.a,{item:!0},r.a.createElement(V.a,null,r.a.createElement(z.a,null,r.a.createElement(P.a,{color:"textSecondary",gutterBottom:!0},"Average points"),r.a.createElement(P.a,{variant:"h5",component:"h2"},n))))))},Q=t(190),X=t(85),Y=t(191),Z=t(183),$=t(203),_=t(197),ee=t(188),ae=t(205),te=function(e){var a=e.availablePlayers,t=e.player,n=e.players,l=e.removePlayer,c=e.updatePlayer,o=n.map((function(e){return e.player}));return r.a.createElement(U.a,{container:!0,spacing:1,justify:"center"},r.a.createElement(U.a,{item:!0,md:3,xs:5},r.a.createElement(Z.a,{fullWidth:!0,variant:"outlined",required:!0},r.a.createElement($.a,{id:"player-label"},"Player"),r.a.createElement(_.a,{labelId:"player-label",id:"player",value:t.player,onChange:function(e){return function(e){var a=Object(i.a)({},t,{player:e});c(a)}(e.target.value)}},a.map((function(e){return r.a.createElement(ee.a,{key:e,disabled:o.includes(e),value:e},e)}))))),r.a.createElement(U.a,{item:!0,md:3,xs:5},r.a.createElement(A.a,{fullWidth:!0,required:!0,id:"points",label:"Points",type:"number",defaultValue:t.points,onChange:function(e){return function(e){var a=Object(i.a)({},t,{points:Number(e)});c(a)}(e.target.value)},variant:"outlined"})),r.a.createElement(U.a,{item:!0,xs:1},r.a.createElement(y.a,{"aira-label":"delete",onClick:function(){return l(t)}},r.a.createElement(ae.a,null))))},ne=["Tuomas","Maiju","Iida","Jyri","Jokke","Joona"],re=function(e){var a=e.handleSubmit,t=Object(n.useState)([]),l=Object(o.a)(t,2),c=l[0],i=l[1],m=function(e){var a=c.map((function(a){return a.id!==e.id?a:e}));i(a)},u=function(e){i(c.filter((function(a){return a.id!==e.id})))};return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:function(e){e.preventDefault();var t=c.filter((function(e){return e.player}));t.length<1||a(t)}},r.a.createElement(Q.a,{maxWidth:"md",disableGutters:!0},r.a.createElement(X.a,{style:{padding:"2em"}},c.map((function(e){return r.a.createElement(te,{key:e.id,availablePlayers:ne,player:e,players:c,removePlayer:u,updatePlayer:m})})),r.a.createElement(U.a,{container:!0,justify:"space-between"},r.a.createElement(U.a,{item:!0},r.a.createElement(Y.a,{variant:"outlined",color:"primary",onClick:function(){var e={id:c.length>0?Math.max.apply(Math,Object(B.a)(c.map((function(e){return e.id}))))+1:0,player:"",points:null};i([].concat(Object(B.a)(c),[e]))}},"Add player")),r.a.createElement(U.a,{item:!0},r.a.createElement(Y.a,{variant:"contained",color:"primary",type:"submit"},"Submit")))))))},le=function(e){return D.a.post("/api/matches",e)},ce=function(e){return D.a.get("".concat("/api/matches","/game/").concat(e))},oe=function(e){var a=e.gameId,t=e.setHeader,l=Object(n.useState)([]),c=Object(o.a)(l,2),i=c[0],m=c[1],u=Object(n.useState)(!1),s=Object(o.a)(u,2),p=s[0],d=s[1];Object(n.useEffect)((function(){ce(a).then((function(e){m(e.data)})).catch((function(e){console.log("failed to get match data")})),q(a).then((function(e){t(e.data.title)})).catch((function(e){console.log("failed to get game data")}))}),[]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(J,{handleClick:function(){return d(!p)}}),p?r.a.createElement(re,{handleSubmit:function(e){le({players:e}).then((function(e){m([].concat(Object(B.a)(i),[e.data])),d(!1)})).catch((function(e){console.log("failed to create a new match")}))}}):r.a.createElement(K,{matches:i}))},ie=Object(p.a)((function(e){return{root:{display:"flex"},drawer:Object(m.a)({},e.breakpoints.up("sm"),{width:240,flexShrink:0}),appBar:Object(m.a)({},e.breakpoints.up("sm"),{width:"calc(100% - ".concat(240,"px)"),marginLeft:240}),menuButton:Object(m.a)({marginRight:e.spacing(2)},e.breakpoints.up("sm"),{display:"none"}),toolbar:e.mixins.toolbar,toolbarDrawer:Object(i.a)({backgroundColor:"red"},e.mixins.toolbar),drawerPaper:{width:240},content:{flexGrow:1,padding:e.spacing(3)}}})),me=function(e){var a=ie(),t=Object(d.a)(),l=Object(n.useState)(!1),c=Object(o.a)(l,2),i=c[0],m=c[1],p=Object(n.useState)("Otsikko"),v=Object(o.a)(p,2),j=v[0],O=v[1],x=function(){m(!i)},S=r.a.createElement("div",null,r.a.createElement("div",{className:a.toolbar}),r.a.createElement(b.a,null),r.a.createElement(s.a,null,r.a.createElement(k,{key:"Home",to:"/",primary:"Home"}),r.a.createElement(k,{key:"Games",to:"/game-stats",primary:"Games"})));return r.a.createElement("div",{className:a.root},r.a.createElement(E.a,null),r.a.createElement(f.a,{position:"fixed",className:a.appBar},r.a.createElement(C.a,null,r.a.createElement(y.a,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:x,className:a.menuButton},r.a.createElement(w.a,null)),r.a.createElement(P.a,{variant:"h6",noWrap:!0},j))),r.a.createElement("div",{className:a.drawer,"aria-label":"games stats"},r.a.createElement(h.a,{smUp:!0,implementation:"css"},r.a.createElement(g.a,{variant:"temporary",anchor:"rtl"===t.direction?"right":"left",open:i,onClose:x,classes:{paper:a.drawerPaper},ModalProps:{keepMounted:!0}},S)),r.a.createElement(h.a,{xsDown:!0,implementation:"css"},r.a.createElement(g.a,{classes:{paper:a.drawerPaper},variant:"permanent",open:!0},S))),r.a.createElement("div",{className:a.content},r.a.createElement("div",{className:a.toolbar}),r.a.createElement(u.a,{exact:!0,path:"/",render:function(){return O("")}}),r.a.createElement(u.a,{exact:!0,path:"/game-stats",render:function(){return r.a.createElement(L,{setHeader:O})}}),r.a.createElement(u.a,{exact:!0,path:"/game-stats/:game",render:function(e){var a=e.match;return r.a.createElement(oe,{gameId:a.params.game,setHeader:O})}})))},ue=function(){return r.a.createElement("div",null,r.a.createElement(x.a,null,r.a.createElement(me,null)))},se=t(196),pe=t(83),de=Object(pe.a)({palette:{primary:{light:"#ffc046",main:"#ff8f00",dark:"#c56000",contrastText:"#000000"},secondary:{light:"#ffffff",main:"#f9fbe7",dark:"#c6c8b5",contrastText:"#000000"}},typography:{fontFamily:["Arial"]}});c.a.render(r.a.createElement(se.a,{theme:de},r.a.createElement(ue,null)),document.getElementById("root"))},93:function(e,a,t){e.exports=t(136)}},[[93,1,2]]]);
//# sourceMappingURL=main.d2b4189d.chunk.js.map